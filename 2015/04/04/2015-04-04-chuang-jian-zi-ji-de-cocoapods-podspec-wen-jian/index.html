<!DOCTYPE html>
<html lang="z">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>创建自己的cocoaPods - podspec 文件 | Charvel 互联网自留地</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="现在很多开源的第三方库都支持 cocoaPods 来管理，这对于 iOS 开发人员来说是一个福音，基础的运用为创建 podfile 然后在文件中加入自己需要依赖的第三方库就可以啦。不过在实际的使用中，有可能需要依赖自己的库或者公司的库，或者有些库没有加入到 cocoaPods 中，这个时候就需要我们制定自己的 cocoaPods 库了。">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="创建自己的cocoaPods - podspec 文件 | Charvel 互联网自留地">
    <meta name="twitter:description" content="现在很多开源的第三方库都支持 cocoaPods 来管理，这对于 iOS 开发人员来说是一个福音，基础的运用为创建 podfile 然后在文件中加入自己需要依赖的第三方库就可以啦。不过在实际的使用中，有可能需要依赖自己的库或者公司的库，或者有些库没有加入到 cocoaPods 中，这个时候就需要我们制定自己的 cocoaPods 库了。">

    <meta property="og:type" content="article">
    <meta property="og:title" content="创建自己的cocoaPods - podspec 文件 | Charvel 互联网自留地">
    <meta property="og:description" content="现在很多开源的第三方库都支持 cocoaPods 来管理，这对于 iOS 开发人员来说是一个福音，基础的运用为创建 podfile 然后在文件中加入自己需要依赖的第三方库就可以啦。不过在实际的使用中，有可能需要依赖自己的库或者公司的库，或者有些库没有加入到 cocoaPods 中，这个时候就需要我们制定自己的 cocoaPods 库了。">

    
    <meta name="author" content="Well Cheng">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/avatar-small.png">
    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="Charvel 互联网自留地" href="/atom.xml">
    

    <link rel="canonical" href="http://blog.devcheng.com/2015/04/04/2015-04-04-chuang-jian-zi-ji-de-cocoapods-podspec-wen-jian/"/>

                 
</head>

<body class="home-template no-js">
    <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 Charvel 互联网自留地 的主页"><img src="/images/avatar.jpg" width="80" alt="Charvel 互联网自留地 logo" class="panel-cover__logo logo"></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for Charvel 互联网自留地">Charvel 互联网自留地</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">记录生活的点点滴滴，记录技术的淅淅沥沥</span>
        
        <hr class="panel-cover__divider">
        <p class="panel-cover__description"></p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="Visit the blog" class="blog-button">Blog</a></li>
            
              <li class="navigation__item"><a href="/favourite">黄金屋</a></li>
            
              <li class="navigation__item"><a href="/favourite/time.html">时光机</a></li>
            
              <li class="navigation__item"><a href="/favourite/image.html">幻想间</a></li>
            
              <li class="navigation__item"><a href="/aboutme">关于我</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/monniya" title="GitHub" target="_blank">
      <i class="social fa fa-github"></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  <li class="navigation__item">
    <a href="https://twitter.com/onlymonniya" title="Twitter" target="_blank">
      <i class="social fa fa-twitter"></i>
      <span class="label">Twitter</span>
    </a>
  </li>

  

  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class="social fa fa-rss"></i>
      <span class="label">RSS</span>
    </a>
  </li>


  <li class="navigation__item">
    <a href="mailto:chengwei3269@hotmail.com" title="Mail" target="_blank">
      <i class="social fa fa-envelope"></i>
      <span class="label">Email</span>
    </a>
  </li>


  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-purple"></div>
  </div> 
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2015-04-04T12:23:36.000Z" class="post-list__meta--date date">2015-04-04</time> &#8226; <span class="post-meta__tags tags">于 
  <a class="tag-link" href="/tags/CocoaPods/">CocoaPods</a>, <a class="tag-link" href="/tags/依赖/">依赖</a>
 </span>
      <span class="page-pv">
       Read <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>
      </span> 
   
    </div>
    <h1 class="post-title">创建自己的cocoaPods - podspec 文件</h1>
  </header>

  <section class="post">
    <blockquote>
<p>现在很多开源的第三方库都支持 cocoaPods 来管理，这对于 iOS 开发人员来说是一个福音，基础的运用为创建 <code>podfile</code> 然后在文件中加入自己需要依赖的第三方库就可以啦。不过在实际的使用中，有可能需要依赖自己的库或者公司的库，或者有些库没有加入到 cocoaPods 中，这个时候就需要我们制定自己的 cocoaPods 库了。</p>
</blockquote>
<a id="more"></a>
<h2 id="CocoaPods-基本原理"><a href="#CocoaPods-基本原理" class="headerlink" title="CocoaPods 基本原理"></a>CocoaPods 基本原理</h2><h3 id="CocoaPods-的基本流程大概为："><a href="#CocoaPods-的基本流程大概为：" class="headerlink" title="CocoaPods 的基本流程大概为："></a>CocoaPods 的基本流程大概为：</h3><ol>
<li>初始化一个 WorkSpace，将原有的 project 包含进来，同时创建一个专用于管理依赖的 project： <code>Pods</code> 。这个时候，你的项目应该是这样的结构：一个 WorkSpace 中有两个 project ，一个是你真正的项目，另一个是用于管理依赖的 Pods project。</li>
<li>通过 git 下载 <code>Podfile</code> 文件中的第三方库，每一个库作为 Pods 项目的 target，编译生成一个以库名命名的静态库文件，例如 <code>AFNetworking.a</code>。</li>
<li>将所有的 .a 文件合并为最终主项目依赖的静态库，名为 <code>libPods.a</code> </li>
<li>依据每个第三方库的.podspec 文件，将其被添加进工程中。.podspec文件可以标识该第三方库所需要的源码文件、依赖库、编译选项，以及其他第三方库需要的配置。</li>
<li>最后，Pods 修改主项目中的编译、链接参数，让你的项目完美集成第三方库。</li>
</ol>
<h3 id="添加第三方库"><a href="#添加第三方库" class="headerlink" title="添加第三方库"></a>添加第三方库</h3><p>当Cocoapods向项目中增加了一个第三方库的时候，不仅仅是将添加代码这么简单。由于每个第三方库有不同的target，所以每次添加第三方库时，都只有几个文件被添加。每个源代码都需要：</p>
<h4 id="一个包含编译选项的-xcconfig文件"><a href="#一个包含编译选项的-xcconfig文件" class="headerlink" title="一个包含编译选项的.xcconfig文件"></a>一个包含编译选项的.xcconfig文件</h4><p>这个文件主要描述当前的库需要哪些系统库的支持，举几个例子就很容易明白啦：</p>
<ul>
<li><p>AFNetworking：</p>
<pre><code>PODS_AFNETWORKING_OTHER_LDFLAGS = -framework &quot;CoreGraphics&quot; 
-framework &quot;MobileCoreServices&quot; 
-framework &quot;Security&quot; 
-framework &quot;SystemConfiguration&quot;
</code></pre></li>
<li><p>Base64：</p>
<pre><code>Base64 只提供了方法，不需要系统库支持，所以这个文件为空
</code></pre></li>
<li><p>FMDB：</p>
<pre><code>PODS_FMDB_OTHER_LDFLAGS = -l&quot;sqlite3&quot;
</code></pre></li>
<li><p>Reachability：</p>
<pre><code>PODS_REACHABILITY_OTHER_LDFLAGS = 
-framework &quot;SystemConfiguration&quot;
</code></pre></li>
</ul>
<h4 id="一个同时拥有编译设置和CocoaPods默认配置的私有-xcconfig文件"><a href="#一个同时拥有编译设置和CocoaPods默认配置的私有-xcconfig文件" class="headerlink" title="一个同时拥有编译设置和CocoaPods默认配置的私有.xcconfig文件"></a>一个同时拥有编译设置和CocoaPods默认配置的私有.xcconfig文件</h4><p>xcconfig文件正如其名字一样，就是xcode里的config文件。 我们在开发过程中，需要配置一些参数，这些都可以在xcode工程的setting对项目进行配置，xcconfig就是将这些配置项以文件的形式独立出来，方便共享与配置。比如两个项目用到相同的配置，那么只需要在xcode中选择对应的xcconfig文件即可，方便与灵活共享。</p>
<p>CocoaPods 需要这个文件来设置当前 target 的配置选项，从而正确的编译出静态库 .a 文件。</p>
<h4 id="编译所必须的prefix-pch文件"><a href="#编译所必须的prefix-pch文件" class="headerlink" title="编译所必须的prefix.pch文件"></a>编译所必须的prefix.pch文件</h4><h4 id="另一个编译必须的文件dummy-m"><a href="#另一个编译必须的文件dummy-m" class="headerlink" title="另一个编译必须的文件dummy.m"></a>另一个编译必须的文件dummy.m</h4><p>一旦每个pod的target都完成了以上步骤，整个Pods的Target就会被创建。这增加了相同的文件，与另外几个。如果有源代码中包含了资源bundle，向app的target中添加bundle的方式将写入Pods-Resources.sh。还有一个叫Pods-environment.h的文件，文件中含有许多检查组件是否来自pod的宏定义。最后，将生成两个确认文件，一个.plist文件，一个用于给用户查阅许可信息的markdown文件。</p>
<blockquote>
<p>待续</p>
</blockquote>

  </section>

</article>

<section class="read-more">
           
    
               
            <div class="read-more-item">
                <span class="read-more-item-dim">Newer Post</span>
                <h2 class="post-list__post-title post-title"><a href="/2015/04/22/2015-04-22-autolayout-du-shu-bi-ji-1/" title="AutoLayout 读书笔记(一)">AutoLayout 读书笔记(一)</a></h2>
                <p class="excerpt">
                
                第一章 AutoLayout 介绍###1.1 由来：
前身为 Cassowary 约束解析工具包，本质是通过定义的约束构成联立方程组，然后求解，得出界面元素唯一的布局可能。
###1.2 好处都有啥？
几何关系
工作原理为通过创建界面上元素之间的关系从而实现布局。对于自然界之间的一些关系，可以用一些统一的规则来描述，能够建立界面元素之间强健的几何关系，在一定程度上使用抽象的语言描述。
改变 AutoLayout 约束的值，还可以创建出优美的动画。
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2015-04-22T13:34:19.000Z" class="post-list__meta--date date">2015-04-22</time> &#8226; <span class="post-list__meta--tags tags">于 
  <a class="tag-link" href="/tags/AutoLayout/">AutoLayout</a>, <a class="tag-link" href="/tags/读书笔记/">读书笔记</a>
</span><a class="btn-border-small" href="/2015/04/22/2015-04-22-autolayout-du-shu-bi-ji-1/">继续阅读</a></div>
                           
            </div>
        
        
               
            <div class="read-more-item">
                <span class="read-more-item-dim">Older Post</span>
                <h2 class="post-list__post-title post-title"><a href="/2015/03/09/2015-03-09-ios-bing-fa-bian-cheng-zhi-nan-1/" title="iOS 并发编程指南(一)">iOS 并发编程指南(一)</a></h2>
                <p class="excerpt">
                
                
本文为翻译苹果官方文档，旨在自我学习，翻译之处会有坑，请酌情参考

简介并发是指多件事情同时发生。随着多核 CPU 的实现，每个处理器上的核心只会增加，开发人员需要新的方式来充分利用它们。尽管像 OS X 和 iOS 这样的操作系统（自卖自夸，别的 OS 被你吃了吗？）能够并行的运行多个程序，其中大多数的程序运行在后台，并且经常需要一小段 CPU 时间来执行任务。运行在前台的程序与用户交互并且占用大量的 CPU 时间。如果一个程序有很多任务去做但是只有一部分内核可以使用，那么额外的计算资源将被浪费。
在过去，在程序中引入并发需要创建额外的一个或多个线程。不幸的是，写线程级别的代码很具有挑战性。线程是很底层的工具，必须手动来管理。对于一个程序，由于线程的最佳数目基于系统负载和底层硬件动态改变，实现一个正确的线程解决方案是非常困难的。此外，线程的同步机制通常会给软件设计增加复杂性和带来风险，并不能保证一定会提高程序性能。
相比较传统的基于线程的系统和应用程序，OS X 和 iOS 更多地采用异步方法来执行并行的任务。应用程序只需要定义特定的任务，然后让系统执行它们，而不是直接创建线程。通过让操作系统来管理线程，使得应用程序具有了原生线程不可能带来的可扩展性。开发者也有了更加简单高效的编程模式。
本文档描述了并发编程的技术和技巧，使用与 OS X 和 iOS。
文档包含以下章节：

并行和程序设计：介绍了基本的异步程序设计和异步执行自定义任务的技巧
Operation Queues（操作队列）：指出如何使用 Objective-C 对象封装任务并且执行
Dispatch Queue（分发队列）：如何并行的执行任务在 C 语言编程中
Dispatch Sources：如何异步的处理系统时间
Migrating Away from Threads：介绍如何将已存在的基于线程的代码迁移至新的技术上。

                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2015-03-09T07:38:28.000Z" class="post-list__meta--date date">2015-03-09</time> &#8226; <span class="post-list__meta--tags tags">于 
  <a class="tag-link" href="/tags/GCD/">GCD</a>, <a class="tag-link" href="/tags/并发编程/">并发编程</a>, <a class="tag-link" href="/tags/翻译/">翻译</a>
</span><a class="btn-border-small" href="/2015/03/09/2015-03-09-ios-bing-fa-bian-cheng-zhi-nan-1/">继续阅读</a></div>
                       
            </div>
        
     
   
   
  
</section>

  

            <footer class="footer">
    <span class="footer__copyright">
        &copy; 2019 Well Cheng - 本站点采用 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
       
    </span>
    <span class="footer__copyright">
             - 基于 <a href="http://hexo.io">Hexo</a> 搭建，使用 <a href="https://github.com/monniya/hexo-theme-new-vno ">new-vno</a> 主题，由<a href="https://monniya.com ">@Monniya</a> 修改自 <a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">Vno</a>, 原创出自<a href="http://github.com/onevcat/vno" target="_blank">onevcat</a>
         </span>
       
    
    
</footer>


        </div>
    </div>

     
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-78918255-1', 'auto');
	ga('send', 'pageview');
</script>

    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?9cdad07c755fa23f6aced510c6760e87";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>



    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    
</body>
</html>
